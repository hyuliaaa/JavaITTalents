# Concurrency & Parallelism
В изчислитетлната техника, когато се пусне една система на една машина, ОС стартира т.нар. **процес**. Един процес представлява една програма, коятов момента се изпълнява.
ОС е т.нар. "разпределителна гара", която дава възможност на определени програми да имат достъп до определени хардуерни устройства.  
Процесорът е мозъкът на компютъра - сметалото. Понеже компютрите имат много програми, които могат да работят по едно и също време, те се борят за процесорно време.
Ако на една програма дадем процесорно време, в самата програма можем да имаме много подпроцеси(подзадачи). Тези подзадачи помежду си се борят за процесорно време. Такива подзадачи
наричаме **нишки**, нещо като подпроцеси в нашия процес. Например като отворим един прозорец в Chrome се създава един процес.  
Всеки един процес има стек и хийп, тоест ОС за всеки един процес заделя част от RAM-та. ОС заделя RAM за конкретния процес, заключва тази RAM и дори да не се използва от процеса,
тя не може да се използва от друг. Ако процесът си напрвави променлива, то тя ще заеме част от заделената за нея RAM.  
IntelliJ също е процес. Един процес сам по себе си може да съдържа множество различни подзадачи, които да се изпълняват едновременно, тези неща наричаме **нишки(threads)**. Една
нишка представлява подпроцес. Когато пуснем една Java програма се създава един процес, той работи, докато не приключи main метода. Всички наши програми, които сме писали досега,
създаваха един процес с една нишка в него, наречена Main Thread. Можем да стартитираме и други нишки и да симулираме многозадачност, т.е. докато се върти един цикъл, който обхожда
дадена колекция, в абсолютно същото време да се върти друг, който прави нещо друго и т.н. Когато в един процес няма нишки, които да работят процесът приключва работа.  
Нишките като подпроцеси използват общатата памет на процеса, общ хийп, всяка една нишка има свой собствен стек. 1 нишка не може да пипа стека на друга нишка, което означава, че
всяка нишка има свои локални променливи, може да изпълнява свои методи и така. Тоест всяка нишка има собствен control flow.  
Процесът е цялостна програма, за която ОС заделя памет, а нишката е подпроце, част от процеса. В 1 процес може да имаме много нишки.  
Когато направим няколко нишки и за да работят те паралелно, това означава, че процесора, че процесора изчислява за едната нишка нещо и в същото време изчислява за другата нишка
нещо. Процесор с едно ядро в един даден момент прави 1 нещо. 
## Конкурентност
Ако имаме един процесор на нашата машина, тогава си говорим за конкурентост, тогава всички нишки на всички процеси се бият за процесорно време. ОС решава колко милисекунди
процесорно време да даде на 1 нишка, т.е. когато нашата Java програма работи и изписваме нещо, това означава, че в някоя пикосекунда ОС е решила да даде на моята нишка процесорно време и процесорът се е обърнал към нишката и е казал "Кажи как да ти помогна?"  и тя заявява своето желание и след определено време взима друга нишка и дава време на нея.  
- 1 Hz(Херц - единица за измерване на честотата на периодични процеси) представлява 1 такт в секунда(т/с) 
- 1 kHz(килохерц) 1000 т/с. 
- 1 МHz - 1 милион(1 000 000) т/с
-  1 GHz - 1 млрд (1 000 000 000).
Всяка аритметична опреция изисква няколко такта на процесора (умн: 11 т/с).  
За един процесор имаме конкурентност, тук процесора прави много неща по единично, но изглежда, че е едновременно. Прави малка част от едната задача, после прехвърля към другата, после обратно и така нататък, този процес се управлява от ОС. Тя има т. нар. thread scheduler, който определя коя нишка да тръгне.  
## Паралелизъм
Новите процесори имат ядра, реално ние пак имаме един процесор, но с много ядра. Самият процесор "се мисли" за няколко, ядрото само по себе си е самостоятелна изчислителна единица. 
- Ако имаме 4-ядрен процесор, това е все едно да имаме 4 процесорчета.
- Ако имаме 4-ядрен процесор с 3 GHz честота, това означава, че всяко от ядрата работи на тази честота, т.е докато 1 процес работи на едното ядро, друг може паралелно да работи на другото, така в даден момент всички процеси се борят за 4 места, а не за 1.


